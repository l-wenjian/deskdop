(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27b15c60"],{4068:function(t,s,e){"use strict";var n=e("52cf"),o=e.n(n);o.a},"52cf":function(t,s,e){},9302:function(t,s,e){"use strict";var n=e("1c8b"),o=e("692f"),i=e("da10"),a=e("d7e1"),r=[].join,c=o!=Object,u=a("join",",");n({target:"Array",proto:!0,forced:c||!u},{join:function(t){return r.call(i(this),void 0===t?",":t)}})},c6f7:function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"login-con"},[e("div",{staticClass:"login-form"},[e("div",{staticClass:"input-wrap"},[e("div",{staticClass:"input-bor"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"input-self",attrs:{type:"text",name:"账号",maxlength:"11",placeholder:"请填写手机号"},domProps:{value:t.phone},on:{input:function(s){s.target.composing||(t.phone=s.target.value)}}})]),e("div",{staticClass:"input-bor"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input-self",attrs:{type:"password",name:"密码",maxlength:"6",placeholder:"请填写密码"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),t.showRegister?e("div",{staticClass:"input-bor"},[t._m(2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"input-self",attrs:{type:"text",name:"验证码",placeholder:"请填写验证码"},domProps:{value:t.code},on:{input:function(s){s.target.composing||(t.code=s.target.value)}}}),e("div",{staticClass:"code-wrap",on:{click:t.getrandomStr}},t._l(t.randomNum,(function(s,n){return e("span",{key:n,staticClass:"num"},[t._v(t._s(s))])})),0)]):t._e()]),e("button",{staticClass:"btn-self",on:{click:t.submit}},[t._v(t._s(t.showRegister?"注册":"登陆"))]),e("span",{staticClass:"register",on:{click:t.changeStatus}},[t._v(t._s(t.showRegister?"登陆":"注册"))])])])},o=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon-wrap"},[e("i",{staticClass:"iconfont"},[t._v("")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon-wrap"},[e("i",{staticClass:"iconfont"},[t._v("")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon-wrap"},[e("i",{staticClass:"iconfont"},[t._v("")])])}],i=(e("9302"),["1","2","3","4","5","6","7","8","9","0","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),a={name:"login",components:{},data:function(){return{phone:"",password:"",code:"",randomNum:[],showRegister:!1}},computed:{},mounted:function(){this.getrandomStr()},methods:{getrandomStr:function(){for(var t=i.length-1,s=[],e=0,n=4;e<n;e++){var o=Math.floor(Math.random()*t);s.push(i[o])}this.randomNum=s},changeStatus:function(){this.showRegister=!this.showRegister,this.getrandomStr()},submit:function(){var t=this;if(!this.phone)return this.$toast("手机号码不能为空");if(!this.password)return this.$toast("密码不能为空");if(this.password.length<6)return this.$toast("密码长度不能小于6位");if(!/^1[3456789]\d{9}$/.test(this.phone))return this.$toast("手机号码有误");if(this.showRegister){var s=this.randomNum.join("").toLowerCase(),e=this.code.toLowerCase();if(s!=e)return setTimeout((function(){t.getrandomStr()}),800),this.$toast("请输入正确验证码");this.$http.post("/api/client-user/add",{phone:this.phone,password:this.password}).then((function(s){if(0===s.code)return t.$toast(s.msg);t.$toast(s.msg),t.login(),t.showRegister=!1}))}else this.login()},login:function(){var t=this;this.$http.post("/api/client-user/login",{phone:this.phone,password:this.password}).then((function(s){if(0===s.code)return t.$toast(s.msg);t.$toast(s.msg),localStorage.setItem("userInfo",JSON.stringify(s.data)),t.$router.push("/")}))}}},r=a,c=(e("4068"),e("9ca4")),u=Object(c["a"])(r,n,o,!1,null,"3f73742e",null);s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-27b15c60.5edddcd5.js.map